---
sidebar_position: 1
pagination_prev:
pagination_next:
title: Overview
---

## Dynabankinsuracart.com

The application is a fully-featured application showcasing shopping cart, banking, and insurance sites. In the application diagram below, you can see the various functions provided and the technology stacks used.

### Features

- modern front end design
- production-grade services architecture
- user based load generator
- pre-populated fields making it easy to try out

![DynaBankInsurCart](/img/DynaBankInsuraCart.png)

## Deployment assistant

The application can be easily deployed into a kubernetes environment with Pepper. While not as brilliant as the famous [Pepper Potts](https://en.wikipedia.org/wiki/Pepper_Potts), this installer:

- works seamlessly across Azure, AWS, and GCP
- creates a kubernetes cluster using best practices for each cloud
- guides you through full deployment or lets you take over at any point
- shows each command as it runs so you can repeat any step yourself later
- can be expanded with any number of kubernetes deployment (yaml) files

### Assistant download

Download

```bash
curl https://www.suchcodewow.io/manifests/pepper.ps1 > ~/pepper.ps1
```

Run

Supported options:

- `-c` Show cloud commands as they run within `[ ]`. Super helpful if you want examples to use on your own later.
- `-v` Show trivial/verbose commands in pepper. Chatty, but good if you are planning to modify Pepper.
- `-h` Shows help at the prompt.

```bash
pwsh ~/pepper.ps1 -c
```

### About the assistant

The assistant is written in powershell. The main reasons for this are:

- It is well supported natively on all 3 cloud platforms & kept up to date.
- Versus bash, the other built in option, it offers real arraylist support and native json parsing.

It is purposefully written as a single script to allow a quick download vs cloning a repo. However, the file is fully commented and if using vscode, there are instructions at the top for folding the various functions into neat one-liners making the file simple to navigate.

You can run this assistant either in the cloud shell or a local terminal with the cli tools available for your cloud vendor. Please check out the cloud vendor specific notes below if relevant.

### Assistant guide

#### Startup

When started, Pepper will check if it has access to AWS, Azure, or GCLOUD (possibly multiple when running in a from a terminal on your PC). It will add viable environments to the providers list.

If there is a fairly obvious default (typical when running in a cloud provider's shell), Pepper will automatically select it and move to the relevant cloud specific setup.

If not, Pepper will present you with a list of cloud options. When you select one, Pepper will remember it for the rest of the script.

If you want to switch providers at any time, select the `Switch Cloud Provider` menu option.

#### Azure

Pepper checks for the following required Azure Kubernetes components.

- Azure resource group **scw-group-[ id ]**
- AKS kubernetes cluster **scw-AKS-[ id ]** 1 node x Standard_D4s_v5 (4cpu x 16GB)
- AKS credentials to enable kubectl commands (done automatically)

Where **[ id ]** is the alpha part of your email address before the '@' symbol.

When all components are present, Pepper moves to the common steps below.

#### AWS

Pepper checks for the following required AWS components.

- AWS role Arn **scw-awsrole-[ id ]**
- AWs nodegroup Arn **scw-awsngrole-[ id ]**
- AWS cloudformation stack **scw-AWSstack-[ id ]** (contains VPC, subnets, security group)
- EKS kubernetes cluster **scw-AWS-[ id ]**
- EKS kubernetes nodegroup **scw-AWSBG-[ id ]** 1 node x t3.xlarge (4cpu x 16GB)
- EKS credentials (done automatically)

Where **[ id ]** is either the last six characters of your access token ID or the alpha characters up to the '@' of your root account email address.

When all components are present, Pepper moves to the common steps below.

If your AWS account is not found (typically on a terminal with cli tools installed):

- Check configuration with `aws configure list`. Ensure you have a secret, key, and valid region available.
- Check that pepper can find your account with `aws sys get-caller-identity`. Ideally the ARN should have an email in it. Pepper will extract the alpha characters. If not, it will fall back to whatever is after user/.

#### GCLOUD

Pepper checks for the following required GCLOUD components.

- A valid GCP project for this account
- GKE kubernetes cluster **scw-GKE-[ id ]** 1 node x e2-standard-4 (4cpu x 16GB)

where **[ id ]** is the alpha characters of your account email up to the '@' symbol.

When all components are present, Pepper moves to the common steps below.

You might need to run `gcloud components update` if you run into script issues.
You might need to authorize google cloud services via popup.

#### Common steps

Pepper checks the existing namespaces and offers deploy/status/remove options as appropriate.

For the dynatrace namespace, Pepper has built in options to help create Paas tokens, generate dynakube.yaml, and even deploy automatically. See Dynatrace below.

As of this writing, Pepper is pre-loaded with DynabankInsuraCart (dbic). The `Download sample apps Yaml` wil retrieve this file. Other sample apps could easily be added if they are deployable via a yaml file.

Once you download the sample app(s), Pepper will offer to deploy for you, check status of pods, or remove.

#### Dynatrace

These steps are completely optional. Pepper can do each step for you, have it create the dynakube.yaml file for you to use via the Dynatrace UI, or you can download the dynakube.yaml from the Dynatrace UI and do all steps yourself.

When you select
